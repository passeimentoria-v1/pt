# ğŸš€ NOVAS FUNCIONALIDADES - PortuguÃªs Game

## âœ¨ 3 Novos Recursos Implementados

---

## 1ï¸âƒ£ UPLOAD DE QUESTÃ•ES VIA EXCEL ğŸ“Š

### O que Ã©?
Envie dezenas ou centenas de questÃµes de uma sÃ³ vez atravÃ©s de uma planilha Excel, economizando MUITO tempo!

### Como usar (Professor):

1. **Acesse o Dashboard do Professor**
2. **Clique em "Upload Excel"** (card verde)
3. **Baixe o template** clicando em "Baixar Template Excel"
4. **Preencha o template** com suas questÃµes:

#### Formato da Planilha:
```
| categoria    | enunciado              | alternativa_a | alternativa_b | alternativa_c | alternativa_d | resposta_correta | xp  | explicacao          |
|--------------|------------------------|---------------|---------------|---------------|---------------|------------------|-----|---------------------|
| ortografia   | Qual a forma correta?  | ExcessÃ£o     | ExceÃ§Ã£o       | EscessÃ£o      | EscesÃ£o       | B                | 50  | A forma correta Ã©...|
| gramatica    | Complete a frase...    | foi          | fui           | foram         | for           | A                | 75  | Porque...          |
```

#### Regras:
- **categoria**: ortografia, gramatica, interpretacao ou redacao (tudo minÃºsculo, sem acentos)
- **resposta_correta**: A, B, C ou D (maiÃºsculo)
- **xp**: NÃºmero entre 10 e 200 (geralmente 50, 75 ou 100)
- **explicacao**: Opcional, mas recomendado para melhor aprendizado

5. **Selecione o arquivo** preenchido
6. **Revise o preview** das questÃµes importadas
7. **Clique em "Enviar X QuestÃµes"**

### BenefÃ­cios:
âœ… Cadastre 50+ questÃµes em menos de 5 minutos  
âœ… Copie e cole de outros materiais  
âœ… Trabalhe offline na planilha  
âœ… Compartilhe planilhas com outros professores  

---

## 2ï¸âƒ£ DESAFIO DIÃRIO ğŸ”¥

### O que Ã©?
Uma questÃ£o especial por dia que dÃ¡ **XP EM DOBRO**! MantÃ©m os alunos engajados voltando todos os dias.

### Como funciona:

#### Para o Aluno:
1. **Acesse o Dashboard**
2. **Clique no banner laranja** "Desafio DiÃ¡rio"
3. **Responda UMA questÃ£o** especial do dia
4. **Ganhe XP em DOBRO!** (se a questÃ£o vale 50 XP, vocÃª ganha 100 XP)
5. **Volte amanhÃ£** para um novo desafio

### CaracterÃ­sticas:
- ğŸ“… **1 questÃ£o por dia**: Nova questÃ£o todo dia Ã  meia-noite
- âš¡ **XP em Dobro**: Recompensa 2x maior
- ğŸ”„ **Mesma questÃ£o para todos**: Todos os alunos respondem a mesma questÃ£o do dia
- âœ… **Uma tentativa**: SÃ³ pode fazer uma vez por dia
- ğŸ”¥ **MantÃ©m streak**: Completa automaticamente a sequÃªncia do dia

### EstratÃ©gia de Engajamento:
O desafio diÃ¡rio incentiva os alunos a:
- Voltarem Ã  plataforma todos os dias
- Manterem a sequÃªncia (streak)
- Competirem por mais XP
- Criarem um hÃ¡bito de estudo

---

## 3ï¸âƒ£ SISTEMA DE TURMAS ğŸ“

### O que Ã©?
Organize seus alunos em turmas (ex: "3Âº Ano A", "Turma AvanÃ§ada", "SÃ¡bado ManhÃ£") com cÃ³digos de acesso Ãºnicos.

### Como usar (Professor):

#### Criar uma Turma:
1. **Dashboard do Professor** â†’ Clique em "Gerenciar Turmas"
2. **Clique em "+ Nova Turma"**
3. **Preencha os dados**:
   - Nome da turma (ex: "3Âº Ano A")
   - DescriÃ§Ã£o (ex: "PreparaÃ§Ã£o ENEM 2026")
   - Escolha um emoji (ğŸ“š ğŸ“ âœï¸ etc)
4. **CÃ³digo de acesso gerado automaticamente** (ex: ABC123)
5. **Clique em "Criar Turma"**

#### Compartilhar com os Alunos:
1. **Copie o cÃ³digo** clicando no Ã­cone de copiar
2. **Compartilhe com os alunos** (WhatsApp, presencial, etc)
3. **Alunos usam o cÃ³digo** para entrar na turma

### Como usar (Aluno):

#### Entrar em uma Turma:
1. **Dashboard do Aluno** â†’ SeÃ§Ã£o "Minhas Turmas"
2. **Clique em "+ Entrar em Turma"**
3. **Digite o cÃ³digo** fornecido pelo professor (ex: ABC123)
4. **Pronto!** VocÃª estÃ¡ na turma

### BenefÃ­cios do Sistema de Turmas:

#### Para o Professor:
âœ… **OrganizaÃ§Ã£o**: Separe alunos por perÃ­odo, nÃ­vel, objetivo  
âœ… **EstatÃ­sticas por turma**: Veja XP mÃ©dio, melhor aluno, etc  
âœ… **Ranking interno**: Compare turmas diferentes  
âœ… **Controle de acesso**: CÃ³digo Ãºnico por turma  

#### Para o Aluno:
âœ… **Identidade**: Pertencimento a uma turma  
âœ… **CompetiÃ§Ã£o saudÃ¡vel**: Ranking da turma  
âœ… **MotivaÃ§Ã£o**: Competir com colegas conhecidos  

### Recursos do Card de Turma:
- ğŸ“Š **NÃºmero de alunos** cadastrados
- ğŸ† **XP mÃ©dio** da turma
- ğŸ“‹ **Lista de alunos** ordenados por XP
- ğŸ“ **CÃ³digo de acesso** sempre visÃ­vel
- ğŸ“¤ **Copiar cÃ³digo** com um clique

---

## ğŸ”§ CONFIGURAÃ‡ÃƒO DO FIREBASE

Para essas funcionalidades funcionarem, vocÃª precisa atualizar as **Regras de SeguranÃ§a do Firestore**:

1. Acesse o **Firebase Console**
2. VÃ¡ em **Firestore Database** â†’ **Regras**
3. **Substitua TUDO** por:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Regras de usuÃ¡rios
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth.uid == userId;
    }
    
    // Regras de questÃµes
    match /questions/{questionId} {
      allow read: if request.auth != null;
      allow create, update, delete: if request.auth != null && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'teacher';
    }
    
    // Regras de progresso
    match /progress/{progressId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    // Regras de badges
    match /badges/{badgeId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'teacher';
    }
    
    // ===== NOVAS REGRAS =====
    
    // Regras de turmas
    match /turmas/{turmaId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'teacher';
      allow update: if request.auth != null;
      allow delete: if request.auth != null && 
        get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'teacher';
    }
    
    // Regras de desafios diÃ¡rios (questÃµes do dia)
    match /dailyChallengeQuestions/{date} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // Regras de progresso do desafio diÃ¡rio
    match /dailyChallenges/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

4. **Clique em "Publicar"**

---

## ğŸ“Š ESTRUTURA DOS DADOS

### ColeÃ§Ã£o `turmas`
```javascript
{
  name: "3Âº Ano A",
  description: "PreparaÃ§Ã£o ENEM 2026",
  emoji: "ğŸ“š",
  accessCode: "ABC123",
  teacherId: "professor_uid",
  students: ["aluno1_uid", "aluno2_uid", ...],
  createdAt: "2024-01-01T10:00:00.000Z"
}
```

### ColeÃ§Ã£o `dailyChallengeQuestions`
```javascript
// Documento ID = data no formato "YYYY-MM-DD"
{
  category: "ortografia",
  question: "Qual a forma correta?",
  alternatives: ["opÃ§Ã£o 1", "opÃ§Ã£o 2", "opÃ§Ã£o 3", "opÃ§Ã£o 4"],
  correctAnswer: 1,
  xpReward: 50,
  explanation: "ExplicaÃ§Ã£o..."
}
```

### ColeÃ§Ã£o `dailyChallenges`
```javascript
// Documento ID = userId
{
  lastCompleted: "2024-01-15",
  totalCompleted: 45,
  xpEarned: 100
}
```

---

## ğŸ¯ FLUXO DE USO COMPLETO

### Semana 1 - Setup:
1. **Professor** cria turma "3Âº Ano A"
2. **Professor** faz upload de 50 questÃµes via Excel
3. **Professor** compartilha cÃ³digo ABC123 com alunos
4. **Alunos** entram na turma usando o cÃ³digo

### Semana 2 - Engajamento:
1. **Segunda**: Aluno entra, faz desafio diÃ¡rio (+100 XP)
2. **TerÃ§a**: Aluno volta, faz novo desafio (+100 XP), mantÃ©m streak
3. **Quarta**: Aluno pratica trilhas normais (+50 XP por questÃ£o)
4. **Quinta**: Desafio diÃ¡rio novamente (+100 XP)
5. **Sexta**: Aluno vÃª que estÃ¡ em 3Âº no ranking da turma, estuda mais
6. **SÃ¡bado/Domingo**: MantÃ©m streak com desafio diÃ¡rio

### Resultado:
- âœ… Aluno engajado todos os dias
- âœ… CompetiÃ§Ã£o saudÃ¡vel na turma
- âœ… Professor com controle total
- âœ… Muito menos trabalho manual

---

## ğŸ’¡ DICAS DE USO

### Para Professores:

**Upload Excel:**
- Prepare um banco de 200+ questÃµes
- Categorize bem (ortografia, gramÃ¡tica, etc)
- Varie a dificuldade (50 XP = fÃ¡cil, 100 XP = difÃ­cil)
- Adicione explicaÃ§Ãµes detalhadas

**Turmas:**
- Crie turmas especÃ­ficas (por dia da semana, nÃ­vel, objetivo)
- Use emojis diferentes para cada turma
- Acompanhe o XP mÃ©dio semanalmente
- Parabenize publicamente o top 3 da turma

**Desafio DiÃ¡rio:**
- Mencione o desafio em sala de aula
- Crie competiÃ§Ãµes: "quem fizer 7 dias seguidos ganha..."
- Use como liÃ§Ã£o de casa gamificada

### Para Alunos:

**Maximize seu XP:**
- FaÃ§a SEMPRE o desafio diÃ¡rio (XP em dobro!)
- Mantenha o streak (nÃ£o deixe quebrar a sequÃªncia)
- Entre em uma turma para competir
- Pratique as trilhas para subir de nÃ­vel

---

## ğŸ†˜ SOLUÃ‡ÃƒO DE PROBLEMAS

### "CÃ³digo de turma invÃ¡lido"
- Verifique se digitou corretamente (6 caracteres)
- CÃ³digo Ã© case-insensitive (ABC123 = abc123)
- PeÃ§a ao professor para confirmar o cÃ³digo

### "VocÃª jÃ¡ completou o desafio de hoje"
- SÃ³ pode fazer 1 vez por dia
- Volte Ã  meia-noite para o prÃ³ximo desafio
- Pratique as trilhas normais enquanto isso

### "Erro ao fazer upload do Excel"
- Verifique o formato das colunas (exatamente como no template)
- resposta_correta deve ser A, B, C ou D
- categoria deve ser: ortografia, gramatica, interpretacao ou redacao
- NÃ£o pode ter linhas em branco

---

## ğŸ‰ PRÃ“XIMOS PASSOS

Agora que vocÃª tem essas 3 funcionalidades:

1. âœ… **Crie suas turmas**
2. âœ… **FaÃ§a upload de questÃµes em massa**
3. âœ… **Convide seus alunos**
4. âœ… **Acompanhe o engajamento diÃ¡rio**

**A plataforma estÃ¡ completa e pronta para transformar suas aulas! ğŸš€**
